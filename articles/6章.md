
## 6-1 http 与 https

http 的缺点：

	明文传输，不够安全，相当于在网络上裸奔

	传输信息可能会中间人，拦截，或者篡改，中间人攻击


对称加密  
	
	加密和解密相同的密码
	缺点：第一次约定加密方式，携带秘钥，仍然会泄露
	保存和管理密钥十分复杂，安全地传送密钥也十分困难。
非对称加密
	
	有两个密钥，一个用来加密一个用来解密，并且不能根据与一个密钥来推算出另一个密钥，比较安全，但实现起来比较复杂。
	
	公开密钥和私有密钥是一对  
	如果用公开密钥对数据进行加密，只有用对应的私有密钥才能解密。   
	如果用私有密钥对数据进行加密，只有用对应的公开密钥才能解密。  
	因为加密和解密使用的是两个不同的密钥，所以这种算法叫作非对称加密算法。  
	
	即：  
	
	1. A要向B发送信息，A和B都要产生一对用于加密和解密的公钥和私钥
	2. A的私钥保密，A的公钥告诉B；B的私钥保密，B的公钥告诉A。
	3. A要给B发送信息时，A用B的公钥加密信息，因为A知道B的公钥。
	4. A将这个消息发给B（已经用B的公钥加密消息）。
	5. B收到这个消息后，B用自己的私钥解密A的消息。其他所有收到这个报文的人都无法解密，因为只有B才有B的私钥。



非对称加密的劫持：

A（公钥key2），B（公钥key1）

C （公钥key3）, 使用公钥key3向 A发信息，  
A 使用 key3 加密key2 ，发给 C  
C使用自己的私钥解密，得到 key2，再使用 key1 加密 key2 发给 B



证书原理：
	
	与数字签名相关的一个概念就是证书机制了，证书是用来做什么呢？在上面的各种模式中，我们一直使用了这样一个假设，就是接收方或者发送方所持有的、对方的公钥总是正确的（确实是对方公布的）。
	
	而实际上除非对方手把手将公钥交给我们，否则如果不采取措施，双方在网络中传递公钥时，一样有可能被篡改。
	
	那么怎样解决这个问题呢？这时就需要证书机制了：
	
	可以引入一个公正的第三方，当某一方想要发布公钥时，它将自身的身份信息及公钥提交给这个第三方，第三方对其身份进行证实，如果没有问题，则将其信息和公钥打包成为证书（Certificate)。而这个公正的第三方，就是常说的证书颁发机构（Certificate Authority）。当我们需要获取公钥时，只需要获得其证书，然后从中提取出公钥就可以了。


引入证书后的信息交流：

A ——> B

A 把自己申请的证书给B， B验证证书的真伪， 解密获得A的公钥 key1  
B然后使用A的公钥加密 B的公钥key2，发送给A  
A通过自己的私钥解密，得到B的公钥，以后变可以使用 key2 进行对称加密。


## 6-2 https 协议概述


HTTPS = HTTP + TLS

TLS 是传输层加密协议，前身是 SSL 协议

























