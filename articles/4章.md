## 4章

4-1 聊聊HTTP协议中的编码和解码（上）	
4-2 聊聊HTTP协议中的编码和解码（下）	
4-3 HTTP协议之基本认证	
4-4 HTTP中长连接与短连接	
4-5 HTTP中介之代理	
4-6 HTTP中介之网关	
###  4-7 HTTP缓存

CDN 缓存

建立在网络之上的内容分发网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。



###  4-8 HTTP内容协商机制
###  4-9 HTTP的断点续传与多线程下载

情况：

	断点续传：下载时候，网络中断，或者我们主动把下载暂停
	
	多线程下载：迅雷下载电影，文件比较大，分成很多块去下载
	

HTTP 通过 Header 中的两个参数实现的，客户端发请求时对应的是Range，服务端响应时对应的是Content-Range

Range:
	
	请求头中，指定第一个字节的位置和最后一个字节的位置
	Range: bytes=0-499
	
Content-Range
	
	在服务器接收到请求报文，发现这是一个带有Range头的GET请求后，服务器会在Content-Range 头部返回当前接受的范围和文件总大小。
	
响应完成后，返回的响应头内容也不同
	
	HTTP/1.1 200 ok （不使用断点续传方式）
	HTTP/1.1 206 OK  Partial Content （使用断点续传方式）
	
	
断点续传的过程：

	1. 客户端下载一个1024k文件，已经下载了512k
	2. 网络中断，客户端请求续传，因此需要在HTTP 头中申明本次需要续传的片段
		Range: bytes=512000-
		这个头通知服务器从文件的512k开始传输文件
	3. 服务器收到断点续传请求，从文件的512k开始传输，并且在HTTP 头中增加
		Content-Range: bytes 512000-/1024000
		并且此时服务端返回的HTTP 状态码应该是206，而不是200




断点续传是被动的增量下载，多线程下载是主动的分片下载，但同样都是使用 Range










